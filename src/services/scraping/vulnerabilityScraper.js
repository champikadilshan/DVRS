// src/services/scraping/vulnerabilityScraper.js
import axios from 'axios';

const SCRAPING_API_URL = 'http://localhost:3001/api';

export const vulnerabilityScraper = {
  async scrapeVulnerabilityDetails(uri) {
    try {
      const response = await axios.post(`${SCRAPING_API_URL}/scrape`, {
        url: uri,
      });

      if (response.data.success) {
        return response.data.data;
      } else {
        throw new Error(response.data.message || 'Scraping failed');
      }
    } catch (error) {
      console.error('Scraping error:', error);
      throw new Error(
        `Failed to scrape vulnerability details: ${error.message}`
      );
    }
  },
};
